"use strict";(self.webpackChunkcheminfo_eln=self.webpackChunkcheminfo_eln||[]).push([[7465],{232:function(e,t,a){a.r(t),a.d(t,{frontMatter:function(){return r},contentTitle:function(){return d},metadata:function(){return c},toc:function(){return h},default:function(){return p}});var i=a(87462),n=a(63366),s=(a(67294),a(3905)),o=a(89583),l=["components"],r={slug:"/uuid/187642421e225f8cfcd65a9243394a72"},d="Image analysis",c={unversionedId:"other_analysis/images/README",id:"other_analysis/images/README",isDocsHomePage:!1,title:"Image analysis",description:"This view allows to annotate images as well as identify Region of Interests on grey scale images.",source:"@site/docs/45_other_analysis/images/README.md",sourceDirName:"45_other_analysis/images",slug:"/uuid/187642421e225f8cfcd65a9243394a72",permalink:"/docs/eln/uuid/187642421e225f8cfcd65a9243394a72",editUrl:"https://github.com/cheminfo/eln-docs/edit/main/docs/45_other_analysis/images/README.md",tags:[],version:"current",frontMatter:{slug:"/uuid/187642421e225f8cfcd65a9243394a72"},sidebar:"tutorialSidebar",previous:{title:"Crystal structure upload and processing",permalink:"/docs/eln/uuid/07223c3391c6b0cde342518d240d3426"},next:{title:"Property explorer",permalink:"/docs/eln/uuid/d9498d0a2ea400ea71efec8840a1273b"}},h=[{value:"Example of Analysis of SEM / TEM images",id:"example-of-analysis-of-sem--tem-images",children:[{value:"Creating the mask",id:"creating-the-mask",children:[],level:3},{value:"Creating and filtering ROIs",id:"creating-and-filtering-rois",children:[],level:3},{value:"Painting the final image",id:"painting-the-final-image",children:[],level:3},{value:"ROI Analysis",id:"roi-analysis",children:[],level:3},{value:"ROI Categories",id:"roi-categories",children:[],level:3},{value:"Save / Load preferences",id:"save--load-preferences",children:[],level:3},{value:"Exporting data and table customization",id:"exporting-data-and-table-customization",children:[],level:3},{value:"Other tips",id:"other-tips",children:[],level:3}],level:2}],m={toc:h};function p(e){var t=e.components,r=(0,n.Z)(e,l);return(0,s.kt)("wrapper",(0,i.Z)({},m,r,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("h1",{id:"image-analysis"},"Image analysis"),(0,s.kt)("p",null,"This view allows to annotate images as well as identify Region of Interests on grey scale images."),(0,s.kt)("p",null,"If the source if a color image a first step will be to convert it to a grey scale image using one of the provided algorithms."),(0,s.kt)("p",null,(0,s.kt)("img",{alt:"iGrey algorithms",src:a(15475).Z})),(0,s.kt)("p",null,"If you don't know which algorithm to use you may ",(0,s.kt)("inlineCode",{parentName:"p"},"Explore greys"),". The system will reduce the size of the image\nand try all the available algorithms. You should then select the one that yields to the highest contrast."),(0,s.kt)("p",null,(0,s.kt)("img",{alt:"Greys",src:a(65957).Z})),(0,s.kt)("h2",{id:"example-of-analysis-of-sem--tem-images"},"Example of Analysis of SEM / TEM images"),(0,s.kt)("p",null,"The image coming out of the SEM microscope is expected to be in TIFF 16 bits. Apparently some software destroy the image to 8 bits when adding the scale."),(0,s.kt)("p",null,"There are 3 steps in order to process your image:"),(0,s.kt)("ol",null,(0,s.kt)("li",{parentName:"ol"},"The first step is to apply a gaussian filter to the image ","(","blurring",")",". Values of 4 to 8 seem reasonable."),(0,s.kt)("li",{parentName:"ol"},"The second step will generate a mask. The white pixels are the 'positive' area while the black one negative. You may either select one of the provided algorithms or use the 'threshold' algorithm. In this later case the 'Threshold for mask' value will be taken into account. It should be a value between 0 and 100 ","(","percent of white",")","."),(0,s.kt)("li",{parentName:"ol"},"Finally the third step is to create the Regions Of Interest ","(","ROI",")",". It is possible to define the minimal surface, positive / negative as well as the 'Scale' factor that will be applied to the ROI.")),(0,s.kt)("h3",{id:"creating-the-mask"},"Creating the mask"),(0,s.kt)("p",null,"In order to create regions of interest (ROIs) it is required to create a mask (a black and white image). Creation of the mask is based on the threshold that define the level of grey intensity that separates the white pixels from the black pixels."),(0,s.kt)("p",null,"This threshold can be determined automatically using one of the provided algorithm or it can be entered manually as a value between 0 and 100% if the algorithm stays unspecified."),(0,s.kt)("p",null,"In order to quickly evaluate which algorithms or threshold should be used you can click on ",(0,s.kt)("inlineCode",{parentName:"p"},"Explore masks")," and select the more suitable threshold. This function requires that blurring has been applied before."),(0,s.kt)("p",null,(0,s.kt)("img",{alt:"Masks",src:a(13651).Z})),(0,s.kt)("h3",{id:"creating-and-filtering-rois"},"Creating and filtering ROIs"),(0,s.kt)("p",null,"Once the threshold has been determined it is time to create the ROIs. 4 algorithms are available:"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},"Positive: the ROIs are white"),(0,s.kt)("li",{parentName:"ul"},"Negative: the ROIs are black"),(0,s.kt)("li",{parentName:"ul"},"Watershed: there are some ROIs that overlaps and we need to separate them. The ROIs are white"),(0,s.kt)("li",{parentName:"ul"},"Inverted watershed: same as Watershed but the ROIs are black")),(0,s.kt)("p",null,"There is also the possibility to scale the obtained ROIs. This may be practical in order to get average color of a spot."),(0,s.kt)("h3",{id:"painting-the-final-image"},"Painting the final image"),(0,s.kt)("p",null,"The result of analysis can be graphically displayed on the original image and many options allow defining what should be displayed."),(0,s.kt)("h3",{id:"roi-analysis"},"ROI Analysis"),(0,s.kt)("p",null,"By clicking on the \u2018ROI Analysis\u2019 button you will have access to a table containing various parameters of the different ROIs."),(0,s.kt)("p",null,"Among other you will have access to the MBR ","(",(0,s.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Minimum_bounding_rectangle"},"Minimal bounding rectangle"),")",". The ratio between the surface of the MBR and the surface of the ROI ","(","Region Of Interest",")"," is what we call the \u2018filling factor\u2019, 100% means a cube, a sphere should be \u03c0/4 ","(","78.5%",")"),(0,s.kt)("h3",{id:"roi-categories"},"ROI Categories"),(0,s.kt)("p",null,"If you click on ",(0,s.kt)("inlineCode",{parentName:"p"},"ROI Categories")," you will be able to define categories based on characteristics of the ROIs.\nThis panel will also display an histogram that contains the different categories."),(0,s.kt)("p",null,(0,s.kt)("img",{alt:"Histogram",src:a(11809).Z})),(0,s.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,s.kt)("div",{parentName:"div",className:"admonition-heading"},(0,s.kt)("h5",{parentName:"div"},(0,s.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,s.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,s.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Categories")),(0,s.kt)("div",{parentName:"div",className:"admonition-content"},(0,s.kt)("p",{parentName:"div"},"Find more info ",(0,s.kt)("a",{parentName:"p",href:"/docs/eln/other_analysis/images/includes/categories/README"},"here"),"."))),(0,s.kt)("h3",{id:"save--load-preferences"},"Save / Load preferences"),(0,s.kt)("p",null,"From the 3 icons present on the top of the preferences window it is possible to:"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},"load the default preferences"),(0,s.kt)("li",{parentName:"ul"},"load saved preferences"),(0,s.kt)("li",{parentName:"ul"},"save the current preferences")),(0,s.kt)("p",null,"This allows to store templates of preferences depending the kind of images you are processing."),(0,s.kt)("p",null,(0,s.kt)("img",{alt:"Save and Load preferences",src:a(30458).Z})),(0,s.kt)("h3",{id:"exporting-data-and-table-customization"},"Exporting data and table customization"),(0,s.kt)("details",null,(0,s.kt)("summary",null,"It is possible to define the column you want to display / export as well as the format"),"Columns can be customized by clicking on the ",(0,s.kt)(o.rU2,{mdxType:"FaCogs"})," icon that is present in the top of the table. Those preferences are used to customize not only which information is displayed but also how it will be exported. This means that if the units are displayed they will also be exported.",(0,s.kt)("p",null,"If you which to hide the units for importation there is the possibility to specifiy ",(0,s.kt)("inlineCode",{parentName:"p"},"numeral: '0.00', hideUnit: true"),"."),(0,s.kt)("p",null,(0,s.kt)("img",{alt:"Column customization",src:a(92974).Z}))),(0,s.kt)("h3",{id:"other-tips"},"Other tips"),(0,s.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,s.kt)("div",{parentName:"div",className:"admonition-heading"},(0,s.kt)("h5",{parentName:"div"},(0,s.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,s.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,s.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Annotations")),(0,s.kt)("div",{parentName:"div",className:"admonition-content"},(0,s.kt)("p",{parentName:"div"},"It is possible to annotate and measure images with lines and polygons.\nFind more info ",(0,s.kt)("a",{parentName:"p",href:"/docs/eln/other_analysis/images/includes/annotations/README"},"here"),"."))),(0,s.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,s.kt)("div",{parentName:"div",className:"admonition-heading"},(0,s.kt)("h5",{parentName:"div"},(0,s.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,s.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,s.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Regions of interest (ROIs)")),(0,s.kt)("div",{parentName:"div",className:"admonition-content"},(0,s.kt)("p",{parentName:"div"},"Many parameters are calculated for regions of interest.\nFind more info ",(0,s.kt)("a",{parentName:"p",href:"/docs/eln/other_analysis/images/includes/rois/README"},"here"),"."))),(0,s.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,s.kt)("div",{parentName:"div",className:"admonition-heading"},(0,s.kt)("h5",{parentName:"div"},(0,s.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,s.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,s.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Define pixel size")),(0,s.kt)("div",{parentName:"div",className:"admonition-content"},(0,s.kt)("p",{parentName:"div"},"Pixel size can be defined manually or automatically.\nFind more info ",(0,s.kt)("a",{parentName:"p",href:"/docs/eln/other_analysis/images/includes/definePixelSize/README"},"here"),"."))),(0,s.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,s.kt)("div",{parentName:"div",className:"admonition-heading"},(0,s.kt)("h5",{parentName:"div"},(0,s.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,s.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,s.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Select ROIs")),(0,s.kt)("div",{parentName:"div",className:"admonition-content"},(0,s.kt)("p",{parentName:"div"},"Regions of interest may be selected before exportation.\nFind more info ",(0,s.kt)("a",{parentName:"p",href:"/docs/eln/other_analysis/images/includes/selectROIs/README"},"here"),"."))))}p.isMDXComponent=!0},92974:function(e,t,a){t.Z=a.p+"assets/images/customizeColumns-058cb1366d85ceb656ce38e14ea6da24.gif"},65957:function(e,t,a){t.Z=a.p+"assets/images/greys-05e8f99295eb6855fdb77b7ee657d8c5.png"},15475:function(e,t,a){t.Z=a.p+"assets/images/greysAlgorithms-6a1da2f76063cb0443f8eb6386659cec.png"},11809:function(e,t,a){t.Z=a.p+"assets/images/histogram-091426f38f181167ca372c1fcce7a1f9.png"},13651:function(e,t,a){t.Z=a.p+"assets/images/masks-1fad22c07ae216e1d633d0c84219c791.png"},30458:function(e,t,a){t.Z=a.p+"assets/images/saveLoadPrefs-675d8bcf9aff8038e204016b00756d17.gif"}}]);